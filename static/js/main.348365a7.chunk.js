(this.webpackJsonpfirst_project1=this.webpackJsonpfirst_project1||[]).push([[0],{15:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return g}));var a=n(26),r=n(3),o=n.n(r),c=n(6),s=n(2),i=n(9),u=(n(0),n(17)),l={userId:null,login:null,email:null,isAuth:!1,captchaUrl:null},p=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},m=function(e){return{type:"SET_CAPTCHA_URL",payload:{captchaUrl:e}}},f=function(){return function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.me();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,c=a.login,s=a.email,t(p(r,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.login(e);case 2:if(0!==(r=t.sent).data.resultCode){t.next=8;break}console.log("login!"),n(f()),t.next=15;break;case 8:if(10!==r.data.resultCode){t.next=13;break}return n(h()),t.abrupt("return",Object(a.a)({},u.a,r.data.messages));case 13:return console.log("Oops! "+r.data.messages),t.abrupt("return",Object(a.a)({},u.a,r.data.messages));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logout();case 2:0===e.sent.data.resultCode&&(t(p(null,null,null,!1)),console.log("Logout!"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.getCaptchaUrl();case 2:n=e.sent,a=n.data.url,t(m(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"SET_CAPTCHA_URL":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}}},22:function(e,t,n){e.exports={page:"Paginator_page__3sSVO",selectedPage:"Paginator_selectedPage__qyKFF",preloader:"Paginator_preloader__DU4sJ",paginator:"Paginator_paginator__3wmGW",button:"Paginator_button__15wrJ"}},27:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(35),c=n.n(o);t.a=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:c.a}))}},30:function(e,t,n){e.exports={header:"Header_header__27wdc",logo:"Header_logo__YmUeA",loginBlock:"Header_loginBlock__3rOy7",login:"Header_login__r2Gfh"}},31:function(e,t,n){e.exports={form:"LoginForm_form__3ZBkN",error:"LoginForm_error__1FsML"}},35:function(e,t,n){e.exports=n.p+"static/media/preloader.584b607f.gif"},36:function(e,t,n){e.exports={userPhoto:"users_userPhoto__3em2S",usersPage:"users_usersPage__3Yw-v",follow:"users_follow__ABdAu"}},41:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2DN4c",error:"FormsControls_error__2QEDK"}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return E}));var a=n(3),r=n.n(a),o=n(6),c=n(24),s=n(2),i=n(9),u=(n(17),n(15),{posts:[{id:1,message:"Hi, it's my first React post",likesCount:"12"},{id:2,message:"Hello, how are you?",likesCount:"7"}],profile:null,status:""}),l=function(e){return{type:"ADD-POST",newPostText:e}},p=function(e){return{type:"SET_STATUS",status:e}},m=function(e){return{type:"SAVE_NEW_AVA_SUCCESS",ava:e}},f=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:a=t.sent,n(p(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("update status..."),t.next=3,i.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&(n(p(e)),console.log("Done!"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Saving the new photo..."),t.next=3,i.b.setNewAva(e);case 3:0===(a=t.sent).data.resultCode&&(n(m(a.data.data.photos)),console.log("New photo has been saved"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n,a){var o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending the new profile info..."),t.next=3,i.b.setNewProfileInfo(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=10;break}c=a().auth.userId,n(f(c)),console.log("New profile info has been saved"),t.next=12;break;case 10:return console.log("Oops! "+o.data.messages),t.abrupt("return",{errorMessages:o.data.messages});case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:3,message:t.newPostText,likesCount:"0"};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[n])});case"SET_USER_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(s.a)(Object(s.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case"SAVE_NEW_AVA_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.ava})});default:return e}}},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(24),r=n(2),o={dialogs:[{id:1,name:"HelloWorldshik"},{id:2,name:"Yana"},{id:3,name:"Ilya"},{id:4,name:"Nikita"},{id:4,name:"Sonya"},{id:5,name:"Ivi"},{id:6,name:"Zemfira"},{id:7,name:"Felix"}],messages:[{id:1,message:"Hi, world"},{id:2,message:"How are you"},{id:3,message:"What is your name"},{id:4,message:"Napyemsa?"},{id:4,message:"MEW!! I am really angry"},{id:5,message:"pau, pau, rrrr"},{id:6,message:"I want to eat"},{id:7,message:"I'm running, i'm busy"}]},c=function(e){return{type:"SEND-MESSAGE",newMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return console.log("in reducer"),Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{id:8,message:t.newMessage}])});default:return e}}},55:function(e,t,n){e.exports=n.p+"static/media/user1.0ea45980.png"},59:function(e,t,n){e.exports={news:"News_news__3lS_e"}},60:function(e,t,n){e.exports={news:"Settings_news__3C8A6"}},61:function(e,t,n){e.exports={news:"Music_news__17ovE"}},62:function(e,t,n){e.exports={fr:"Friends_fr__1LjY6"}},64:function(e,t,n){e.exports=n.p+"static/media/Logo2.a20fedea.png"},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(18),r=n(19),o=n(21),c=n(20),s=n(0),i=n.n(s),u=n(4),l=n(10),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(o.a)(s,t);var n=Object(c.a)(s);function s(){return Object(a.a)(this,s),n.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),s}(i.a.Component);return Object(l.b)(p)(t)}},66:function(e,t,n){e.exports=n(96)},7:function(e,t,n){e.exports={nav:"Navbar_nav__rUlsl",item:"Navbar_item__1YkHY",activeLink:"Navbar_activeLink__rVKtv",friends:"Navbar_friends__3QK4G"}},9:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var a=n(56),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"9f54c27c-b271-4209-abc9-2710b351d325"}}),o={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object"),c.getProfile(e)},clickUnFollow:function(e){return r.delete("follow/".concat(e))},clickFollow:function(e){return r.post("follow/".concat(e))}},c={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})},setNewAva:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},setNewProfileInfo:function(e){return r.put("profile",e)}},s={me:function(){return r.get("auth/me")},login:function(e){return console.log("request..."),r.post("auth/login",{email:e.email,password:e.password,rememberMe:e.rememberMe,captcha:e.captcha})},logout:function(){return console.log("request..."),r.delete("auth/login")}},i={getCaptchaUrl:function(){return r.get("/security/get-captcha-url")}}},91:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(16),r=n(43),o=n(53),c={friends:[{id:1,name:"HelloWorldshik",avaPath:"https://steamcdn-a.akamaihd.net/steam/apps/1060870/capsule_616x353.jpg?t=1556484529"},{id:2,name:"Yana",avaPath:"https://u-stena.ru/upload/iblock/99b/99bf0da8990871dcf96b379f442555e7.jpg"},{id:3,name:"Ilya",avaPath:"https://st.depositphotos.com/1766887/1938/i/950/depositphotos_19385931-stock-photo-portrait-of-young-attractive-man.jpg"},{id:43,name:"Nikita",avaPath:"https://images.unian.net/pb/004/thumb_files/h_500/450595.jpg  "},{id:4,name:"Sonya",avaPath:"https://forum.grodno.net/index.php?action=dlattach;topic=4146410.0;attach=2685201;image"},{id:5,name:"Ivi",avaPath:"https://club.xdogs.ru/images/stati/kormlenie_toy_terera1.jpg"},{id:6,name:"Zemfira",avaPath:"https://ilike.pet/upload/iblock/dfc/dfcabab399bd4b97d26095257f1827ea.jpg"},{id:7,name:"Felix",avaPath:"https://st3.depositphotos.com/1034382/35562/i/450/depositphotos_355629356-stock-photo-white-brown-shorthair-cat-cat.jpg"}]},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return e},i=n(3),u=n.n(i),l=n(6),p=n(24),m=n(2),f=n(9),d={users:[],pageSize:8,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[1,2,3,4]},g=function(e){return{type:"FOLLOW",userId:e}},h=function(e){return{type:"UNFOLLOW",userId:e}},E=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},v=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},b=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(m.a)(Object(m.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(m.a)(Object(m.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(m.a)(Object(m.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(m.a)(Object(m.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(p.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},_=n(15),O=n(57),j=n(0),S=n.n(j),P={initialized:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{initialized:!0});default:return e}},N=Object(a.c)({profilePage:r.c,dialogsPage:o.a,sidebar:s,usersPage:w,auth:_.a,app:y}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,k=Object(a.e)(N,C(Object(a.a)(O.a))),U=k;window._store_=k;var I=n(33),x=n.n(I),A=n(18),L=n(19),T=n(21),F=n(20),R=(n(91),n(59)),D=n.n(R),M=function(e){return S.a.createElement("div",{className:D.a.news},"News will be here",S.a.createElement("div",null,S.a.createElement("img",{src:"https://i.ytimg.com/vi/o0kmSofFsg4/maxresdefault.jpg",alt:""})))},G=n(60),z=n.n(G),W=function(e){return S.a.createElement("div",{className:z.a.news},"Do you want configure everything? Do it here")},H=n(61),V=n.n(H),Y=function(e){return S.a.createElement("div",{className:V.a.news},"Pum, pum, pum thss... Mm... what a wonderfull music..?")},B=n(4),K=n(7),Z=n.n(K),q=n(5),J=n(62),X=n.n(J),Q=function(e){return S.a.createElement("div",{className:X.a.fr},S.a.createElement("div",null,S.a.createElement("img",{src:e.avaPath,alt:"logo"})),S.a.createElement("div",null,e.name))},$=function(e){var t=e.friends.map((function(e){return S.a.createElement(Q,{name:e.name,avaPath:e.avaPath})}));return S.a.createElement("nav",{className:Z.a.nav},S.a.createElement("div",{className:Z.a.item},S.a.createElement(q.b,{to:"/profile",activeClassName:Z.a.activeLink},"Profile")),S.a.createElement("div",{className:Z.a.item},S.a.createElement(q.b,{to:"/users",activeClassName:Z.a.activeLink},"Users")),S.a.createElement("div",{className:Z.a.item},S.a.createElement(q.b,{to:"/dialogs",activeClassName:Z.a.activeLink},"Messages")),S.a.createElement("div",{className:Z.a.item},S.a.createElement(q.b,{to:"/news",activeClassName:Z.a.activeLink},"News")),S.a.createElement("div",{className:Z.a.item},S.a.createElement(q.b,{to:"/music",activeClassName:Z.a.activeLink},"Music")),S.a.createElement("div",{className:Z.a.item},S.a.createElement(q.b,{to:"/settings",activeClassName:Z.a.activeLink},"Settings")),S.a.createElement("div",{className:Z.a.item},S.a.createElement(q.b,{to:"/login",activeClassName:Z.a.activeLink},"Login")),S.a.createElement("div",{className:Z.a.friends},"My Friends:"),S.a.createElement("div",null,t))},ee=n(10),te=Object(ee.b)((function(e){return{friends:e.sidebar.friends}}))($),ne=n(36),ae=n.n(ne),re=n(55),oe=n.n(re),ce=n(42),se=n(22),ie=n.n(se),ue=n(35),le=n.n(ue),pe=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.isFetching,c=e.portionSize,s=void 0===c?10:c,i=Math.ceil(t/n),u=[],l=1;l<=i;l++)u.push(l);var p=Math.ceil(i/s),m=Object(j.useState)(1),f=Object(ce.a)(m,2),d=f[0],g=f[1],h=(d-1)*s+1,E=d*s;return S.a.createElement("div",{className:ie.a.paginator},S.a.createElement("span",{className:ie.a.button},d>1&&S.a.createElement("button",{onClick:function(){g(d-1)}},"PREV")),u.filter((function(e){return e>=h&&e<=E})).map((function(e){return e===a&&o?S.a.createElement("span",{className:ie.a.preloader},S.a.createElement("img",{src:le.a})):S.a.createElement("span",{className:e===a?ie.a.selectedPage:ie.a.page,key:e,onClick:function(t){r(e)}},e)})),S.a.createElement("span",{className:ie.a.button},p>d&&S.a.createElement("button",{onClick:function(){g(d+1)}},"NEXT")))},me=function(e){return S.a.createElement("div",{className:ae.a.usersPage},S.a.createElement(pe,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,isFetching:e.isFetching}),e.users.map((function(t){return S.a.createElement("div",{key:t.id},S.a.createElement("span",null,S.a.createElement("div",null,S.a.createElement(q.b,{to:"/profile/"+t.id},S.a.createElement("img",{src:null!==t.photos.small?t.photos.small:oe.a,className:ae.a.userPhoto}))),S.a.createElement("div",{className:ae.a.follow},t.followed?S.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow"):S.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow"),";")),S.a.createElement("span",null,S.a.createElement("div",null,t.name),t.status?S.a.createElement("div",null,t.status):S.a.createElement("div",null,"No status")))})))},fe=n(27),de=(n(65),n(63)),ge=Object(de.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),he=function(e){return e.usersPage.pageSize},Ee=function(e){return e.usersPage.totalUsersCount},ve=function(e){return e.usersPage.currentPage},be=function(e){return e.usersPage.isFetching},we=function(e){return e.usersPage.followingInProgress},_e=function(e){Object(T.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(A.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(L.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return S.a.createElement(S.a.Fragment,null,this.props.isFetching&&0===this.props.users.length?S.a.createElement(fe.a,null):null,S.a.createElement(me,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,isFetching:this.props.isFetching}))}}]),n}(S.a.Component),Oe=Object(a.d)(Object(ee.b)((function(e){return{users:ge(e),pageSize:he(e),totalUsersCount:Ee(e),currentPage:ve(e),isFetching:be(e),followingInProgress:we(e)}}),{follow:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b(!0,e)),t.next=3,f.d.clickFollow(e);case 3:0===t.sent.data.resultCode&&n(g(e)),n(b(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b(!0,e)),t.next=3,f.d.clickUnFollow(e);case 3:0===t.sent.data.resultCode&&n(h(e)),n(b(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:E,toggleFollowingProgress:b,getUsers:function(e,t){return function(){var n=Object(l.a)(u.a.mark((function n(a){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(E(e)),a(v(!0)),n.next=4,f.d.getUsers(e,t);case 4:r=n.sent,a({type:"SET_USERS",users:r.data.items}),a({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:r.data.totalCount}),a(v(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(_e),je=n(30),Se=n.n(je),Pe=n(64),ye=n.n(Pe),Ne=function(e){return S.a.createElement("header",{className:Se.a.header},S.a.createElement("img",{className:Se.a.logo,src:ye.a,alt:"logo"}),S.a.createElement("div",{className:Se.a.loginBlock},e.isAuth?S.a.createElement("div",null,e.login,S.a.createElement("button",{onClick:e.logout},"Log out")):S.a.createElement(q.b,{to:"/login",className:Se.a.login},"Login")))},Ce=function(e){Object(T.a)(n,e);var t=Object(F.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"render",value:function(){return S.a.createElement(Ne,this.props)}}]),n}(S.a.Component),ke=Object(ee.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:_.c})(Ce),Ue=n(25),Ie=n(31),xe=n.n(Ie),Ae=function(e){if(!e)return"Field is required"},Le=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},Te=n(41),Fe=n.n(Te),Re=function(e){var t=e.touched&&e.error||e.submitError;return S.a.createElement("div",{className:Fe.a.formControl+" "+(t?Fe.a.error:"")},S.a.createElement("div",null,S.a.createElement("input",e)),t&&S.a.createElement("span",null,e.error||e.submitError))};console.warn("Put the LoginForm style management in a separate file");var De=function(e){return S.a.createElement(Ue.b,{onSubmit:e.onSubmit,render:function(t){var n,a,r=t.handleSubmit,o=t.submitError;return S.a.createElement("form",{onSubmit:r,className:xe.a.form},S.a.createElement("h2",null,"Please enter your username and password"),S.a.createElement("div",null,S.a.createElement(Ue.a,{name:"email",validate:Le(Ae,(a=50,function(e){if(e&&e.length>a)return"Max length is ".concat(a," symbols")}),(n=4,function(e){if(e&&e.length<n)return"Min length is ".concat(n," symbols")}))},(function(e){var t=e.input,n=e.meta;return S.a.createElement("div",null,S.a.createElement("span",null,"Login"),S.a.createElement("div",null,S.a.createElement(Re,Object.assign({},t,n,{placeholder:"Enter your e-mail or login"}))))}))),S.a.createElement("div",null,S.a.createElement(Ue.a,{name:"password",validate:Ae},(function(e){var t=e.input,n=e.meta;return S.a.createElement("div",null,S.a.createElement("span",null,"Password"),S.a.createElement("div",null,S.a.createElement(Re,Object.assign({},t,n,{type:"password",placeholder:"Enter your password"}))))}))),S.a.createElement("div",null,o&&S.a.createElement("div",{className:xe.a.error},"Error! ",o)),S.a.createElement("div",null,S.a.createElement("label",null,"Remember me"),S.a.createElement(Ue.a,{name:"rememberMe",component:"input",type:"checkbox"})),e.captchaUrl&&S.a.createElement("div",{className:xe.a.captcha},S.a.createElement("img",{src:e.captchaUrl,alt:"please refresh"})),e.captchaUrl&&S.a.createElement(Ue.a,{name:"captcha",validate:Ae},(function(e){var t=e.input,n=e.meta;return S.a.createElement("div",null,S.a.createElement("span",null,"Please enter the captcha"),S.a.createElement("div",null,S.a.createElement(Re,Object.assign({},t,n,{placeholder:"Enter the captcha"}))))})),S.a.createElement("div",{className:xe.a.login},S.a.createElement("button",{type:"submit"},"Login")))}})},Me=Object(ee.b)((function(e){return{isAuth:e.auth.isAuth,serverError:e.auth.serverError,captchaUrl:e.auth.captchaUrl}}),{signIn:_.d})((function(e){var t=function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("login pressed"),t.next=3,e.signIn(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e.isAuth?S.a.createElement(B.a,{to:"/profile"}):S.a.createElement(De,{onSubmit:t,captchaUrl:e.captchaUrl})})),Ge=Object(j.lazy)((function(){return Promise.all([n.e(5),n.e(3)]).then(n.bind(null,106))})),ze=Object(j.lazy)((function(){return n.e(4).then(n.bind(null,107))})),We=function(e){Object(T.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(A.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e,t){alert("Some error occured")},e}return Object(L.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?S.a.createElement("div",{className:"app-wrapper"},S.a.createElement(ke,null),S.a.createElement(te,null),S.a.createElement("div",{className:"app-wrapper-content"},S.a.createElement(j.Suspense,{fallback:S.a.createElement(fe.a,null)},S.a.createElement(B.d,null,S.a.createElement(B.b,{exact:!0,path:"/",component:function(){return S.a.createElement(B.a,{to:"/profile"})}}),S.a.createElement(B.b,{path:"/dialogs",component:ze}),S.a.createElement(B.b,{path:"/users",component:Oe}),S.a.createElement(B.b,{path:"/profile/:userId?",component:Ge}),S.a.createElement(B.b,{path:"/news",component:M}),S.a.createElement(B.b,{path:"/music",component:Y}),S.a.createElement(B.b,{path:"/settings",component:W}),S.a.createElement(B.b,{path:"/login",component:Me}),S.a.createElement(B.b,{path:"*",component:function(){return S.a.createElement("div",null,"404 NOT FOUND")}}))))):S.a.createElement(fe.a,null)}}]),n}(S.a.Component),He=Object(ee.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(_.b)());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}})(We);x.a.render(S.a.createElement(ee.a,{store:U},S.a.createElement(q.a,null,S.a.createElement(He,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.348365a7.chunk.js.map