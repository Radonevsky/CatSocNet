{"version":3,"sources":["api/api.js","Components/common/Paginator.module.css","Components/common/Preloader.js","Components/Header/Header.module.css","assets/images/preloader.gif","Components/Users/users.module.css","Components/Login/LoginForm.module.css","Components/common/FormsControls/FormsControls.module.css","Redux/profile-reducer.js","Redux/dialogs-reducer.js","assets/images/user1.png","Components/News/News.module.css","Components/Settings/Settings.module.css","Components/Navbar/Navbar.module.css","Components/Music/Music.module.css","Components/Navbar/Friends/Friends.module.css","assets/images/Logo2.png","hoc/withAuthRedirect.js","serviceWorker.js","Redux/sidebar-reducer.js","Redux/users-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","Components/News/News.jsx","Components/Settings/Settings.jsx","Components/Music/Music.jsx","Components/Navbar/Friends/Friends.jsx","Components/Navbar/Navbar.jsx","Components/Navbar/NavbarContainer.jsx","Components/common/Paginator.js","Components/Users/Users.js","Redux/users-selectors.js","Components/Users/UsersContainer.js","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","utils/validators/validators.js","Components/common/FormsControls/FormsControls.js","Components/Login/LoginForm.jsx","Components/Login/LoginContainer.jsx","App.js","index.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","getProfile","userId","console","warn","profileAPI","clickUnFollow","id","delete","clickFollow","post","getStatus","updateStatus","status","put","setNewAva","ava","formData","FormData","append","setNewProfileInfo","data","authAPI","me","login","log","email","password","rememberMe","logout","module","exports","Preloader","src","preloader","initialState","posts","message","likesCount","profile","addPostActionCreator","newPostText","type","setStatus","saveNewAvaSuccess","getUserProfile","dispatch","a","response","resultCode","saveNewAva","photos","changeProfileInfo","getState","auth","profileReducer","state","action","newPost","filter","postId","dialogs","name","messages","sendNewMessage","newMessage","dialogsReducer","mapStateToPropsForRedirect","isAuth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","Boolean","window","location","hostname","match","friends","avaPath","sidebarReducer","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","usersReducer","map","u","followed","setAuthUserData","payload","getAuthUserData","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","_store_","News","className","s","news","alt","Settings","Music","Friends","fr","Navbar","friendsElements","nav","item","activeClassName","activeLink","NavbarContainer","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","button","onClick","p","selectedPage","page","key","e","Users","small","userPhoto","follow","disabled","some","unfollow","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","length","items","totalCount","Header","header","logo","loginBlock","HeaderContainer","required","value","composeValidators","validators","reduce","error","validator","undefined","Input","hasError","touched","submitError","formControl","LoginForm","onSubmit","render","minLength","maxLength","handleSubmit","form","validate","input","meta","placeholder","component","serverError","signIn","FORM_ERROR","res","ProfileContainer","lazy","DialogsContainer","App","initializeApp","fallback","path","LoginContainer","promise","Promise","all","then","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.35095469.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"9f54c27c-b271-4209-abc9-2710b351d325\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI object');\r\n        return profileAPI.getProfile(userId);\r\n    },\r\n\r\n    clickUnFollow(id) {\r\n        return instance.delete(`follow/${id}`);\r\n    },\r\n\r\n    clickFollow(id) {\r\n        return instance.post(`follow/${id}`);\r\n    }\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n\r\n    setNewAva(ava) {\r\n        const formData = new FormData();\r\n        formData.append('image', ava)\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n\r\n    setNewProfileInfo(data) {\r\n        return instance.put('profile', data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n\r\n    login(formData) {\r\n        console.log('request...');\r\n\r\n        return instance.post('auth/login',\r\n            {\r\n                email: formData.email,\r\n                password: formData.password,\r\n                rememberMe: formData.rememberMe\r\n            });\r\n    },\r\n\r\n    logout() {\r\n        console.log('request...');\r\n        return instance.delete('auth/login');\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Paginator_page__3sSVO\",\"selectedPage\":\"Paginator_selectedPage__qyKFF\",\"preloader\":\"Paginator_preloader__DU4sJ\",\"paginator\":\"Paginator_paginator__3wmGW\",\"button\":\"Paginator_button__15wrJ\"};","import React from 'react';\r\nimport preloader from '../../assets/images/preloader.gif';\r\n\r\nlet Preloader = () => {\r\n\r\n    return <div>\r\n    <img src={preloader}/>\r\n    </div>\r\n};\r\n\r\n\r\nexport default  Preloader;\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__27wdc\",\"logo\":\"Header_logo__YmUeA\",\"loginBlock\":\"Header_loginBlock__3rOy7\",\"login\":\"Header_login__r2Gfh\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.584b607f.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3em2S\",\"usersPage\":\"users_usersPage__3Yw-v\",\"follow\":\"users_follow__ABdAu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginForm_form__3ZBkN\",\"error\":\"LoginForm_error__1FsML\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2DN4c\",\"error\":\"FormsControls_error__2QEDK\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_NEW_AVA_SUCCESS = 'SAVE_NEW_AVA_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, it\\'s my first React post', likesCount: '12'},\r\n        {id: 2, message: 'Hello, how are you?', likesCount: '7'},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                likesCount: '0'\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, (newPost)],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state, posts: state.posts.filter((post) => post.id != action.postId)\r\n            }\r\n        }\r\n        case SAVE_NEW_AVA_SUCCESS: {\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.ava}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText: newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const saveNewAvaSuccess = (ava) => ({type: SAVE_NEW_AVA_SUCCESS, ava})\r\n\r\n\r\nexport const getUserProfile = (userId) =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.getProfile(userId);\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n\r\nexport const getStatus = (userId) =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.getStatus(userId);\r\n        dispatch(setStatus(response.data));\r\n    }\r\n\r\nexport const updateStatus = (status) =>\r\n    async (dispatch) => {\r\n        console.log('update status...');\r\n        let response = await profileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n            console.log('Done!');\r\n        }\r\n    }\r\n\r\nexport const saveNewAva = (ava) =>\r\n    async (dispatch) => {\r\n        console.log('Saving the new photo...');\r\n        let response = await profileAPI.setNewAva(ava);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(saveNewAvaSuccess(response.data.data.photos));\r\n            console.log('New photo has been saved');\r\n        }\r\n    }\r\n\r\nexport const changeProfileInfo = (data) =>\r\n    async (dispatch, getState) => {\r\n        console.log('Sending the new profile info...');\r\n        let response = await profileAPI.setNewProfileInfo(data);\r\n        if (response.data.resultCode === 0) {\r\n            const userId = getState().auth.userId;\r\n            dispatch(getUserProfile(userId));\r\n            console.log('New profile info has been saved');\r\n        }\r\n    }\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'HelloWorldshik'},\r\n        {id: 2, name: 'Yana'},\r\n        {id: 3, name: 'Ilya'},\r\n        {id: 4, name: 'Nikita'},\r\n        {id: 4, name: 'Sonya'},\r\n        {id: 5, name: 'Ivi'},\r\n        {id: 6, name: 'Zemfira'},\r\n        {id: 7, name: 'Felix'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi, world'},\r\n        {id: 2, message: 'How are you'},\r\n        {id: 3, message: 'What is your name'},\r\n        {id: 4, message: 'Napyemsa?'},\r\n        {id: 4, message: 'MEW!! I am really angry'},\r\n        {id: 5, message: 'pau, pau, rrrr'},\r\n        {id: 6, message: 'I want to eat'},\r\n        {id: 7, message: `I'm running, i'm busy`}\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SEND_MESSAGE:\r\n            console.log('in reducer')\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 8, message: action.newMessage}]\r\n            }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const sendNewMessage = (newMessage) => ({type: SEND_MESSAGE, newMessage: newMessage});\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/user1.0ea45980.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__3lS_e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"Settings_news__3C8A6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__rUlsl\",\"item\":\"Navbar_item__1YkHY\",\"activeLink\":\"Navbar_activeLink__rVKtv\",\"friends\":\"Navbar_friends__3QK4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"Music_news__17ovE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fr\":\"Friends_fr__1LjY6\"};","module.exports = __webpack_public_path__ + \"static/media/Logo2.a20fedea.png\";","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n\r\n        render () {\r\n\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedAuthRedirectComponent = connect (mapStateToPropsForRedirect) (RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialState = {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: 'HelloWorldshik',\r\n            avaPath: 'https://steamcdn-a.akamaihd.net/steam/apps/1060870/capsule_616x353.jpg?t=1556484529'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Yana',\r\n            avaPath: 'https://u-stena.ru/upload/iblock/99b/99bf0da8990871dcf96b379f442555e7.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Ilya',\r\n            avaPath: 'https://st.depositphotos.com/1766887/1938/i/950/depositphotos_19385931-stock-photo-portrait-of-young-attractive-man.jpg'\r\n        },\r\n        {\r\n            id: 43,\r\n            name:'Nikita',\r\n            avaPath: 'https://images.unian.net/pb/004/thumb_files/h_500/450595.jpg  '\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Sonya',\r\n            avaPath: 'https://forum.grodno.net/index.php?action=dlattach;topic=4146410.0;attach=2685201;image'\r\n        },\r\n        {id: 5, name: 'Ivi', avaPath: 'https://club.xdogs.ru/images/stati/kormlenie_toy_terera1.jpg'},\r\n        {\r\n            id: 6,\r\n            name: 'Zemfira',\r\n            avaPath: 'https://ilike.pet/upload/iblock/dfc/dfcabab399bd4b97d26095257f1827ea.jpg'\r\n        },\r\n        {\r\n            id: 7,\r\n            name: 'Felix',\r\n            avaPath: 'https://st3.depositphotos.com/1034382/35562/i/450/depositphotos_355629356-stock-photo-white-brown-shorthair-cat-cat.jpg'\r\n        }\r\n\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [\r\n        /** {\r\n            id: 1,\r\n            photoUrl: 'https://u-stena.ru/upload/iblock/99b/99bf0da8990871dcf96b379f442555e7.jpg',\r\n            followed: true,\r\n            fullName: 'Yana',\r\n            status: 'I love my cats',\r\n            location: {city: 'Bryan', country: 'Buryatiya'}\r\n        },\r\n         {\r\n            id: 2,\r\n            photoUrl: 'https://st.depositphotos.com/1766887/1938/i/950/depositphotos_19385931-stock-photo-portrait-of-young-attractive-man.jpg',\r\n            followed: false,\r\n            fullName: 'Ilya',\r\n            status: 'Oh, my bike...',\r\n            location: {city: 'Los-Santos', country: 'USA'}\r\n        },\r\n         {\r\n            id: 3,\r\n            photoUrl: 'https://images.unian.net/pb/004/thumb_files/h_500/450595.jpg',\r\n            followed: false,\r\n            fullName: 'Nikita',\r\n            status: 'U u u, aaaaaa',\r\n            location: {city: 'Chita', country: 'Russia'}\r\n        },**/\r\n    ],\r\n    pageSize: 8,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [1, 2, 3, 4],\r\n\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (currentPage, pageSize) =>\r\n    async (dispatch) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(true));\r\n        let response = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(setUsers(response.data.items));\r\n        dispatch(setTotalUsersCount(response.data.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n\r\nexport const unfollow = (userId) =>\r\n    async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await usersAPI.clickUnFollow(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(unfollowSuccess(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n\r\nexport const follow = (userId) =>\r\n    async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await usersAPI.clickFollow(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(followSuccess(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n\r\nexport default usersReducer;","import {authAPI, usersAPI} from \"../api/api\";\r\nimport React from \"react\";\r\nimport {FORM_ERROR} from \"final-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () =>\r\n    async (dispatch) => {\r\n        let response = await authAPI.me();\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data;\r\n            dispatch(setAuthUserData(id, login, email, true));\r\n        }\r\n    }\r\n\r\nexport const signIn = (formData) =>\r\n    async (dispatch) => {\r\n        let response = await authAPI.login(formData);\r\n        if (response.data.resultCode === 0) {\r\n            console.log('login!');\r\n            dispatch(getAuthUserData());\r\n        } else {\r\n            console.log('Oops! ' + response.data.messages);\r\n            return {[FORM_ERROR]: response.data.messages}\r\n        }\r\n    }\r\n\r\nexport const logout = () =>\r\n    async (dispatch) => {\r\n        let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n            console.log('Logout!');\r\n        }\r\n    }\r\nexport default authReducer;","import React from \"react\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then( () => {\r\n            dispatch(initializedSuccess());\r\n        })\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nexport default store;\r\n\r\nwindow._store_ = store;","import React from \"react\";\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={s.news}>\r\n            News will be here\r\n            <div>\r\n                <img src=\"https://i.ytimg.com/vi/o0kmSofFsg4/maxresdefault.jpg\" alt=\"\"/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default News;","import React from \"react\";\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div className={s.news}>\r\n            Do you want configure everything? Do it here\r\n        </div>\r\n    )\r\n}\r\nexport default Settings;","import React from \"react\";\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div className={s.news}>\r\n            Pum, pum, pum thss... Mm... what a wonderfull music..?\r\n        </div>\r\n    )\r\n}\r\nexport default Music;","import React from 'react';\r\nimport s from './Friends.module.css';\r\n\r\n\r\nconst Friends = (props) => {\r\n    return (\r\n        <div className={s.fr}>\r\n            <div>\r\n                <img src={props.avaPath} alt=\"logo\"/>\r\n            </div>\r\n            <div>\r\n                {props.name}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Friends;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n\r\nconst Navbar = (props) => {\r\n    //let state = props.store.getState();\r\n    let friendsElements = props.friends.map (fr => <Friends name={fr.name} avaPath={fr.avaPath}/>);\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/profile\" activeClassName={s.activeLink} >Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/dialogs\" activeClassName={s.activeLink} >Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/news\" activeClassName={s.activeLink} >News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/music\" activeClassName={s.activeLink} >Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/settings\" activeClassName={s.activeLink} >Settings</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/login\" activeClassName={s.activeLink} >Login</NavLink>\r\n        </div>\r\n\r\n        <div className={s.friends}>\r\n            My Friends:\r\n        </div>\r\n        <div>\r\n            {friendsElements}\r\n        </div>\r\n\r\n    </nav>\r\n}\r\nexport default Navbar;","import React from 'react';\r\nimport Navbar from \"./Navbar\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.sidebar.friends\r\n    }\r\n}\r\n\r\n\r\nconst NavbarContainer = connect(mapStateToProps) (Navbar);\r\n\r\nexport default NavbarContainer;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport preloader from '../../assets/images/preloader.gif';\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, isFetching, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        <span className={styles.button}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</button>}\r\n        </span>\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return ((p === currentPage) && isFetching)\r\n                    ? <span className={styles.preloader}><img src={preloader}/></span>\r\n                    : <span className={p === currentPage ? styles.selectedPage : styles.page}\r\n                            key={p}\r\n                            onClick={(e) => {\r\n                                onPageChanged(p);\r\n                            }}>{p}</span>\r\n            })}\r\n        <span className={styles.button}>\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>}\r\n</span>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;\r\n/**/\r\n","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user1.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator\";\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n    return <div className={styles.usersPage}>\r\n        <Paginator totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                   currentPage={props.currentPage} onPageChanged={props.onPageChanged}\r\n                   isFetching={props.isFetching}/>\r\n        {\r\n            props.users.map(u => <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small !== null ? u.photos.small : userPhoto} className={styles.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={styles.follow}>\r\n                        {u.followed\r\n                            ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                      onClick={() => {\r\n                                          props.unfollow(u.id)\r\n                                      }}>\r\n                                Unfollow</button>\r\n                            : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                      onClick={() => {\r\n                                          props.follow(u.id)\r\n                                      }}>\r\n                                Follow</button>};\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                        <div>{u.name}</div>\r\n                    {u.status ? <div>{u.status}</div> :<div>No status</div>}\r\n                </span>\r\n            </div>)\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect';\r\n\r\nconst getUsersSelector = state => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u=> true);\r\n})\r\n\r\nexport const getPageSize = state => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = state => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = state => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = state => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = state => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from '../../Redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../Redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n           {this.props.isFetching && this.props.users.length === 0 ? <Preloader/> : null}\r\n\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   onPageChanged={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   isFetching={this.props.isFetching}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n/* const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        follow: (userId) => {\r\n            dispatch(followAC(userId))\r\n        },\r\n        unfollow: (userId) => {\r\n            dispatch(unfollowAC(userId))\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users))\r\n        },\r\n        setCurrentPage: (pageNumber) => {\r\n            dispatch(setCurrentPageAC(pageNumber))\r\n        },\r\n        setTotalUsersCount: (totalUsersCount) => {\r\n            dispatch(setTotalUsersCountAC(totalUsersCount));\r\n        },\r\n        toggleIsFetching: (isFetching) => {\r\n            dispatch(toggleIsFetchingAC(isFetching));\r\n        }\r\n\r\n    }\r\n}\r\n*/\r\n\r\n/*const mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n}*/\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    //withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers\r\n    })\r\n)(UsersContainer)\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logo from '../../assets/images/Logo2.png'\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img className={s.logo}\r\n            src={logo}\r\n            alt=\"logo\"/>\r\n\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth\r\n                ? <div>\r\n                    {props.login}\r\n                    <button onClick={props.logout}>Log out</button>\r\n                  </div>\r\n                : <NavLink to={'/login'} className={s.login}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {getAuthUserData, logout} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n    return <Header {...this.props} />\r\n}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect (mapStateToProps, {logout})(HeaderContainer);","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength)  => (value) => {\r\n    if (value && value.length > maxLength)  return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength)  => (value) => {\r\n    if (value && value.length < minLength)  return `Min length is ${minLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n\r\n\r\nexport const composeValidators = (...validators) => value =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\n\r\n\r\nexport const Input = (props) =>{\r\n    const hasError = (props.touched && props.error) || props.submitError;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '') }>\r\n            <div>\r\n                <input {...props} />\r\n            </div>\r\n            {hasError && <span>{props.error || props.submitError }</span>}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {Field, Form} from \"react-final-form\";\r\nimport s from './LoginForm.module.css';\r\nimport {\r\n    required,\r\n    maxLengthCreator,\r\n    minLengthCreator,\r\n    composeValidators\r\n} from './../../utils/validators/validators.js';\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\n\r\nconsole.warn('Put the LoginForm style management in a separate file')\r\nconst LoginForm = (props) => (\r\n    <Form\r\n        onSubmit={props.onSubmit}\r\n        render={({handleSubmit, submitError}) => (\r\n            <form onSubmit={handleSubmit} className={s.form}>\r\n                <h2>Please enter your username and password</h2>\r\n                <div>\r\n                    <Field name=\"email\"\r\n                           validate={composeValidators(required, maxLengthCreator(50), minLengthCreator(4))}>\r\n                        {({input, meta}) => {\r\n                            return (\r\n                                <div>\r\n                                    <span>Login</span>\r\n                                    <div>\r\n                                        <Input {...input} {...meta} placeholder=\"Enter your e-mail or login\"/>\r\n                                    </div>\r\n                                </div>)\r\n                        }}\r\n                    </Field>\r\n                </div>\r\n                <div>\r\n                    <Field name=\"password\" validate={required}>\r\n                        {({input, meta}) => {\r\n                            return (\r\n                                <div>\r\n                                    <span>Password</span>\r\n                                    <div>\r\n                                        <Input {...input} {...meta}\r\n                                               type={\"password\"}\r\n                                               placeholder=\"Enter your password\"/>\r\n                                    </div>\r\n                                </div>)\r\n                        }}\r\n                    </Field>\r\n                </div>\r\n                <div>\r\n                    {submitError && <div className={s.error}>Error! {submitError}</div>}\r\n                </div>\r\n                <div>\r\n                    <label>Remember me</label>\r\n                    <Field name=\"rememberMe\" component=\"input\" type=\"checkbox\"/>\r\n                </div>\r\n                <div className={s.login}>\r\n                    <button  type=\"submit\">Login</button>\r\n                </div>\r\n\r\n\r\n            </form>\r\n        )}\r\n\r\n    />\r\n\r\n)\r\n\r\n\r\nexport default LoginForm;","import React from \"react\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {signIn} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst LoginContainer =(props) => {\r\n    const onSubmit = async formData => {\r\n        console.log('login pressed');\r\n        const res = await props.signIn(formData);\r\n        return res;\r\n    }\r\n        if (props.isAuth) {\r\n            return <Redirect to={\"/profile\"}/>\r\n        }\r\n        return <LoginForm onSubmit={onSubmit}/>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    serverError: state.auth.serverError\r\n})\r\nconsole.warn('mapStateToProps is empty!')\r\nexport default connect (mapStateToProps, {signIn}) (LoginContainer);","/* eslint-disable no-unused-vars */\r\nimport React, {lazy, Suspense} from 'react';\r\nimport './App.css';\r\nimport News from \"./Components/News/News\";\r\nimport Settings from \"./Components/Settings/Settings\";\r\nimport Music from \"./Components/Music/Music\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport NavbarContainer from \"./Components/Navbar/NavbarContainer\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\n//import ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport LoginContainer from \"./Components/Login/LoginContainer\"\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./Components/common/Preloader\";\r\n\r\nconst ProfileContainer = lazy(() => import('./Components/Profile/ProfileContainer'));\r\nconst DialogsContainer = lazy(() => import('./Components/Dialogs/DialogsContainer'));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <NavbarContainer/>\r\n                <div className='app-wrapper-content'>\r\n                    <Suspense fallback={<Preloader/>}>\r\n                        <Switch>\r\n                        <Route /*exact*/ path=\"/dialogs\" component={DialogsContainer}/>\r\n                        <Route path=\"/users\" component={UsersContainer}/>\r\n                        <Route path=\"/profile/:userId?\" component={ProfileContainer}/>\r\n                        <Route path=\"/news\" component={News}/>\r\n                        <Route path=\"/music\" component={Music}/>\r\n                        <Route path=\"/settings\" component={Settings}/>\r\n                        <Route path=\"/login\" component={LoginContainer}/>\r\n                        </Switch>\r\n                    </Suspense>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default connect(mapStateToProps, {initializeApp})(App);\r\n","import * as serviceWorker from './serviceWorker';\r\nimport store from './Redux/redux-store';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {Provider} from \"react-redux\";\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\n\r\n\r\n\r\n    ReactDOM.render(\r\n\r\n            <Provider store={store}>\r\n                <HashRouter>\r\n                <App/>\r\n                    </HashRouter>\r\n            </Provider>,\r\n\r\n        document.getElementById('root')\r\n    );\r\n\r\n\r\n\r\nserviceWorker.unregister();\r\n\r\n"],"sourceRoot":""}